#!/usr/bin/env bash
# Summary: Setup virtualenvwrapper into current shell.
#
# Usage: pyenv virtualenvwrapper

set -e
[ -n "$PYENV_DEBUG" ] && set -x

# Load shared library function
eval "$(pyenv-virtualenvwrapper --lib)"

if [ "$1" == "--unset" ]; then
  echo "unset PYENV_VIRTUALENVWRAPPER_PYENV_VERSION"
  exit
fi

pyenv_virtualenvwrapper_init || {
  echo "pyenv-virtualenvwrapper: failed to initialize virtualenvwrapper." 1>&2
  exit 1
}
declare -f virtualenvwrapper_load
echo "virtualenvwrapper_load"
